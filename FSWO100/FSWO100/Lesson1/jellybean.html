<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Jellybean Test</title>
</head>
<body>
    <h1>Hello, World</h1>
    <script>
        console.log("Hello, moku World!");

        let bag = [

            {
                "id": "jb1",
                "color": "pink"
            },
            {
                "id": "jb2",
                "color": "green"
            },
            {
                "id": "jb3",
                "color": "yellow"
            },
            {
                "id": "jb4",
                "color": "pink"
            },
            {
                "id": "jb5",
                "color": "pink"
            },
            {
                "id": "jb6",
                "color": "yellow"
            },
            {
                "id": "jb7",
                "color": "green"
            },
            {
                "id": "jb8",
                "color": "green"
            },
            {
                "id": "jb9",
                "color": "pink"
            },
            {
                "id": "jbA",
                "color": "pink"
            }

        ];

        let cupA = [];
        let cupB = [];
        let cupC = [];

        let i;
        let bagLength = bag.length;
        for (i = 0; i < bagLength; i++) {

            let jellybean = pullFromBag();
            pushToCups(jellybean);

        };
        displayALLCups();
        /*
         * for(i = 0; i < bag.length; i++) {
         * 
         *      let jellybean = pullJellybeanFromBag();
         *      placeJellybeanInCup(jellybean);
         * }
         * let cupSmallest = determineCupLeastAmount();
         * let cupLargest = determineCupGreatestAmount();
         * 
         * if (cupSmallest !== "A")
         * {
         *      swapCups("A", cupSmallest);
         * }
         * if (cupLargest !== "C")
         * {
         *      swapCups("C", cupLargest);
         * }
         * displayAllCups();
         */

        /*
        let i;
        for (i = 0; i < 3; i++) {
            if (bag[i].color === "green") {
                let jb = [];
                jb.push(bag[i]);
                console.log("Jellybean : " + jb[0].color);
            }
        };
        */
        function pullFromBag() {

            return (bag !== null && bag.length > 0) ? bag.pop() : null;
        }
        function pushToCups(jellybean) {

            if (cupA.length > 0 && cupA[0].color === jellybean.color) {
                cupA.push(jellybean);
            }
            else if (cupB.length > 0 && cupB[0].color === jellybean.color) {
                cupB.push(jellybean);
            }
            else if (cupC.length > 0 && cupC[0].color === jellybean.color) {
                cupC.push(jellybean);
            }
            else if (cupA.length === 0) {
                cupA.push(jellybean);
            }
            else if (cupB.length === 0) {
                cupB.push(jellybean);
            }
            else {
                cupC.push(jellybean);
            }
        }
        function pushToBag(cup) {
            // First part of swapping beans between two cups.
        }
        function pushToEmptyCup(cup) {
            // Second part of swapping beans between two cups.
        }
        function pushToEmptyCup() {
            // Final part of swapping beans between two cups.
        }

        function leastCupAmount() {
            let cupSelect = "A";
            if (cupA.length === 0 || cupB.length === 0 ||
                cupC.length === 0) {

                cupSelect = "E";
            }
            else if (cupB.length < cupA.length) {

                if (cupC.length < cupB.length) {
                    cupSelect = "C";
                }
                else {
                    cupSelect = "B";
                }
            }

            return cupSelect;
        }
        function greatestCupAmount() {

            let cupSelect = "C";
            if (cupA.length === 0 || cupB.length === 0 ||
                cupC.length === 0) {

                cupSelect = "E";
            }
            else if (cupC.length < cupB.length) {

                if (cupB.length < cupA.length) {
                    cupSelect = "A";
                }
                else {
                    cupSelect = "B";
                }
            }

            return cupSelect;
        }
        function swapCups(cup1, cup2) {

            // Pour cup1 into bag.
            // Pour cup2 into cup1.
            // Pour bag into cup2.
        }
        function displayALLCups() {
            let i;
            console.log("Jellybeans in bag: " + bag.length);
            console.log("Cup A : " + cupA.length);
            for (i = 0; i < cupA.length; i++) {
                console.log(cupA[i].id + " " + cupA[i].color);
            }
            console.log("Cup B : " + cupB.length);
            for (i = 0; i < cupB.length; i++) {
                console.log(cupB[i].id + " " + cupB[i].color);
            }
            console.log("Cup C : " + cupC.length);
            for (i = 0; i < cupC.length; i++) {
                console.log(cupC[i].id + " " + cupC[i].color);
            }
        }
        function displayBag() {
            let i;
            console.log("Remaining in bag: " + bag.length);
            for (i = 0; i < bag.length; i++) {
                console.log(bag[i].id + " " + bag[i].color);
            }
        }

    </script>
</body>
</html>